{
  "version": 3,
  "file": "static/js/1425.43c60f88.chunk.js",
  "mappings": "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",
  "sources": [
    "app/views/dashboard/products/index.jsx"
  ],
  "sourcesContent": [
    "import { useState, useEffect } from \"react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Pagination,\n  Button,\n  Stack,\n} from \"@mui/material\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction ProductTable() {\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(\n        `https://api-neiko.site/api/products?page=${page + 1}`\n      );\n      const products = res.data;\n      setData(products.products); // Cập nhật theo cấu trúc dữ liệu trả về từ API\n      setTotalPages(products.totalPages); // Lưu tổng số trang trả về từ server\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]); // Chỉ page là dependency\n\n  const handleEdit = (productId) => {\n    console.log(\"Edit product\", productId);\n    // Logic để sửa sản phẩm\n  };\n\n  const handleDelete = async (productId) => {\n    try {\n      await axios.delete(`https://api-neiko.site/api/products/${productId}`);\n      setData(data.filter((product) => product._id !== productId));\n    } catch (error) {\n      console.error(\"Error deleting product:\", error);\n    }\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage - 1); // Chỉnh lại cho phù hợp với zero-based index\n  };\n\n  return (\n    <>\n      <div className=\"main-btn-add\">\n        <Link className=\"btn-add-product\" to=\"/dashboard/add-product\">\n          Thêm sản phẩm\n        </Link>\n      </div>\n\n      <TableContainer component={Paper}>\n        <Table aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Tên sản phẩm</TableCell>\n              <TableCell align=\"center\">Ảnh sản phẩm</TableCell>\n              <TableCell align=\"center\">Ngày Tạo</TableCell>\n              <TableCell align=\"center\">Hành động</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((product) => (\n              <TableRow key={product._id}>\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                  {product.name}\n                </TableCell>\n\n                <TableCell align=\"center\">\n                  <img\n                    src={`https://api-neiko.site/${product.image}`}\n                    width=\"70px\"\n                    alt=\"\"\n                  />\n                </TableCell>\n                <TableCell align=\"center\" component=\"th\" scope=\"row\">\n                  {new Date(product.createdAt).toLocaleDateString()}\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Link to={`/dashboard/edit-product/${product._id}`}>Sửa</Link>\n                  <Button\n                    onClick={() => handleDelete(product._id)}\n                    color=\"secondary\"\n                  >\n                    Xoá\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Stack\n        sx={{ paddingTop: \"15px\", display: \"flex\", justifyContent: \"end\" }}\n        spacing={2}\n      >\n        <Pagination\n          count={totalPages}\n          page={page + 1}\n          color=\"primary\"\n          onChange={handleChangePage}\n        />\n      </Stack>\n    </>\n  );\n}\n\nexport default ProductTable;\n"
  ],
  "names": [
    "data",
    "setData",
    "useState",
    "page",
    "setPage",
    "totalPages",
    "setTotalPages",
    "useEffect",
    "async",
    "products",
    "axios",
    "get",
    "concat",
    "error",
    "console",
    "getData",
    "_jsxs",
    "_Fragment",
    "children",
    "_jsx",
    "className",
    "Link",
    "to",
    "TableContainer",
    "component",
    "Paper",
    "Table",
    "TableHead",
    "TableRow",
    "TableCell",
    "align",
    "TableBody",
    "map",
    "product",
    "scope",
    "name",
    "src",
    "image",
    "width",
    "alt",
    "Date",
    "createdAt",
    "toLocaleDateString",
    "_id",
    "Button",
    "onClick",
    "delete",
    "productId",
    "filter",
    "handleDelete",
    "color",
    "Stack",
    "sx",
    "paddingTop",
    "display",
    "justifyContent",
    "spacing",
    "Pagination",
    "count",
    "onChange",
    "handleChangePage",
    "event",
    "newPage"
  ],
  "sourceRoot": ""
}
